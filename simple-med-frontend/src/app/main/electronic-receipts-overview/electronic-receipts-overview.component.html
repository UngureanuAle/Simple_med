<div class="overview-container">
    <div class="overview" [hidden]="currentView !== 'OVERVIEW'">
        <form [formGroup]="searchForm" id="search-form">
            <mat-form-field class="field" subscriptSizing="dynamic">
                <mat-label>Serie</mat-label>
                <input matInput formControlName="series">
            </mat-form-field>
            <mat-form-field class="field" subscriptSizing="dynamic">
                <mat-label>Nr</mat-label>
                <input matInput formControlName="nr">
            </mat-form-field>
            <mat-form-field class="field" subscriptSizing="dynamic">
                <mat-label>Parafa Prescriptor</mat-label>
                <input matInput formControlName="stencil_nr">
            </mat-form-field>
            <mat-form-field class="field" subscriptSizing="dynamic">
                <mat-label>CNP Asigurat</mat-label>
                <input matInput formControlName="cnp">
            </mat-form-field>

            <button mat-flat-button color="primary" class="field" style="min-height: 48px;"
                (click)="getPrescriptions()">Caută</button>
            <button mat-flat-button color="primary" class="field" style="min-height: 48px;"
                (click)="resetFilters()">Șterge
                Filtre</button>
        </form>
        <table mat-table [dataSource]="prescriptionsList" multiTemplateDataRows class="mat-elevation-z8">

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>Id</th>
                <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
            </ng-container>
            
            <ng-container matColumnDef="series">
                <th mat-header-cell *matHeaderCellDef>Serie</th>
                <td mat-cell *matCellDef="let element"> {{ element.series }} </td>
            </ng-container>

            <ng-container matColumnDef="nr">
                <th mat-header-cell *matHeaderCellDef>Nr.</th>
                <td mat-cell *matCellDef="let element"> {{ element.nr }} </td>
            </ng-container>

            <ng-container matColumnDef="stencil_nr">
                <th mat-header-cell *matHeaderCellDef>Parafa Prescriptor</th>
                <td mat-cell *matCellDef="let element"> {{ element.stencil_nr }} </td>
            </ng-container>

            <ng-container matColumnDef="cnp">
                <th mat-header-cell *matHeaderCellDef>CNP Asigurat</th>
                <td mat-cell *matCellDef="let element"> {{ element.cnp }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns" backgroundColor="primary"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openDetailsPage(row.id)"></tr>

           
        </table>
    </div>

</div>
